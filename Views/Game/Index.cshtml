@model Minesweeper_Milestone350.Models.Cell[,]

<style>
    .cell-button {
        width: 75px; /* Adjust the width of the button to fill the entire cell */
        height: 75px; /* Adjust the height of the button to fill the entire cell */
        border: 1px solid black;
        background-color: lightblue;
        padding: 0; /* Remove padding to fill the entire button with content */
        position: relative; /* Ensure that the button is positioned relative */
    }

    .revealed {
        background-color: white;
    }

    .number {
        color: blue;
        font-size: 24px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .mine {
        background-color: white;
    }

    .cell-info {
        position: absolute;
        top: 5px;
        left: 5px;
        font-size: 12px;
        color: red;
    }

    .button-zone {
        display: grid;
        grid-template-columns: repeat(10, 0fr);
        grid-template-rows: repeat(10, 0fr);
        gap: 5px; /* Adjust as needed */
    }
</style>

<div class="button-zone">
    @for (int i = 0; i < Model.GetLength(0); i++)
    {
        for (int j = 0; j < Model.GetLength(1); j++)
        {
            var cell = Model[i, j];
            <form method="post" asp-controller="Game" asp-action="HandleButtonClick">
                <input type="hidden" name="row" value="@cell.Row" />
                <input type="hidden" name="col" value="@cell.Column" />
                <button class="cell-button @(cell.Visited ? "revealed" : "")" type="submit" @(cell.Visited ? "disabled" : "")>
                    <!-- Add content to the button based on cell state -->
                    @if (cell.Visited)
                    {
                        @if (cell.IsMine)
                        {
                            <span class="mine">
                                <img src="/image/mine 50.png" alt="Alternate Text" />   
                                </span>
                        }
                        else
                        {
                            <span class="number">@cell.LiveNeighbors</span>
                        }
                    }
                </button>
            </form>
        }
    }
</div>
